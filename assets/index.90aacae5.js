var P=Object.defineProperty;var R=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var N=(e,r,i)=>r in e?P(e,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[r]=i,S=(e,r)=>{for(var i in r||(r={}))E.call(r,i)&&N(e,i,r[i]);if(R)for(var i of R(r))W.call(r,i)&&N(e,i,r[i]);return e};import{j as L,R as x,r as l,u as $,i as D,d as M,a as T}from"./vendor.e6451ab8.js";const Y=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(t){if(t.ep)return;t.ep=!0;const n=i(t);fetch(t.href,n)}};Y();const o=L.exports.jsx,f=L.exports.jsxs,C=e=>o("div",{className:"native-bar",style:e.style,children:e.children}),j={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function O(e){const{move:r,size:i,bar:s}=e,t={},n=`translate${s.axis}(${r}%)`;return t[s.size]=i,t.transform=n,t.msTransform=n,t.WebkitTransform=n,t}let p;function F(){var t;if(p!==void 0)return p;const e=document.createElement("div");e.className="v-scrollbar__calc",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const r=e.offsetWidth;e.style.overflow="scroll";const i=document.createElement("div");i.style.width="100%",e.appendChild(i);const s=i.offsetWidth;return(t=e.parentNode)==null||t.removeChild(e),p=r-s,p}const H=x.createContext(null);const V=e=>{const{size:r,move:i,direction:s}=e,t=x.useContext(H),n=l.exports.useRef(null),a=l.exports.useRef(null),h=l.exports.useRef(0),c=l.exports.useMemo(()=>j[s],[s]),_=d=>{if(!t||!a.current||!n.current)return;const g=Math.abs(d.target.getBoundingClientRect()[c.direction]-d[c.client]),b=a.current[c.offset]/2,y=(g-b)*100/n.current[c.offset];t[c.scroll]=y*t[c.scrollSize]/100},m=d=>{d.stopPropagation()},v=$(({down:d,first:g,last:b,initial:y,target:B,xy:k})=>{if(!(!t||!a.current||!n.current)){if(g){const w=y[1],z=B.getBoundingClientRect()[c.direction];h.current=w-z}if(b&&(h.current=0),d){const A=(k[1]-n.current.getBoundingClientRect()[c.direction]-h.current)*100/n.current[c.offset];t[c.scroll]=A*t[c.scrollSize]/100}}}),u=O({size:r,move:i,bar:c});return o("div",{ref:n,className:"v-scrollbar__bar",onClick:_,children:o("div",S({ref:a,className:"v-scrollbar__thumb",onClick:m,style:u},v()))})},I=typeof window=="undefined",X=function(e){for(let r of e){const i=r.target.__resizeListeners__||[];i.length&&i.forEach(s=>{s()})}},q=function(e,r){I||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new D(M(16,X)),e.__ro__.observe(e)),e.__resizeListeners__.push(r))},K=function(e,r){!e||!e.__resizeListeners__||(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(r),1),e.__resizeListeners__.length||e.__ro__.disconnect())};const G=e=>{const r=l.exports.useRef(null),i=l.exports.useRef(null),[s,t]=l.exports.useState(0),[n,a]=l.exports.useState(""),h=F();l.exports.useEffect(()=>{c()},[]),l.exports.useEffect(()=>(q(i.current,c),()=>{K(i.current,c)}),[]);const c=()=>{let v;const u=r.current;if(!u)return;v=u.clientHeight*100/u.scrollHeight;const d=v<100?v+"%":"";a(d)},_=v=>{const u=r.current;if(u){const d=u.scrollTop*100/u.clientHeight;t(d)}},m={marginRight:`-${h}px`,height:`calc(100% + ${h}px)`};return f("div",{className:"v-scrollbar",children:[o("div",{ref:r,className:"v-scrollbar__wrap",style:m,onScroll:_,children:o("div",{ref:i,className:"v-scrollbar__view",children:e.children})}),o(H.Provider,{value:r.current,children:o(V,{move:s,size:n,direction:"vertical"})})]})};function J(){const[e,r]=l.exports.useState([1,1,1,1]);return f("div",{className:"App",children:[o("button",{onClick:()=>{const s=new Array(100).fill(1);r(s)},children:"\u52A0\u8F7D\u6570\u636E"}),f("div",{className:"container",children:[f("div",{style:{width:200,height:500,marginRight:20},children:[o(C,{style:{overflow:"auto "},children:e.map((s,t)=>f("div",{className:"native-bar__item",children:[o("div",{children:s}),o("div",{children:"\u300B"})]},t))}),o("div",{className:"tip",children:"overflow: auto"})]}),f("div",{style:{width:200,height:500,marginRight:20},children:[o(C,{style:{overflow:"overlay "},children:e.map((s,t)=>f("div",{className:"native-bar__item",children:[o("div",{children:s}),o("div",{children:"\u300B"})]},t))}),o("div",{className:"tip",children:"overflow: overlay"})]}),f("div",{style:{width:200,height:500,marginRight:20},children:[o(G,{children:e.map((s,t)=>f("div",{className:"native-bar__item",children:[o("div",{children:s}),o("div",{children:"\u300B"})]},t))}),o("div",{className:"tip",children:"\u8D1Fmargin + \u865A\u62DF\u6EDA\u52A8\u6761"})]})]})]})}T.render(o(x.StrictMode,{children:o(J,{})}),document.getElementById("root"));
