var A=Object.defineProperty;var S=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var N=(e,r,t)=>r in e?A(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,R=(e,r)=>{for(var t in r||(r={}))E.call(r,t)&&N(e,t,r[t]);if(S)for(var t of S(r))T.call(r,t)&&N(e,t,r[t]);return e};import{j as L,R as x,r as l,u as W,i as $,d as M,a as Y}from"./vendor.e6451ab8.js";const j=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}};j();const n=L.exports.jsx,f=L.exports.jsxs,H=e=>n("div",{className:"native-bar",style:e.style,children:e.children}),O={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}};function D(e){const{move:r,size:t,bar:o}=e,i={},s=`translate${o.axis}(${r}%)`;return i[o.size]=t,i.transform=s,i.msTransform=s,i.WebkitTransform=s,i}let p;function V(){var i;if(p!==void 0)return p;const e=document.createElement("div");e.className="v-scrollbar__calc",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);const r=e.offsetWidth;e.style.overflow="scroll";const t=document.createElement("div");t.style.width="100%",e.appendChild(t);const o=t.offsetWidth;return(i=e.parentNode)==null||i.removeChild(e),p=r-o,p}const B=x.createContext(null);const F=e=>{const{size:r,move:t,direction:o}=e,i=x.useContext(B),s=l.exports.useRef(null),a=l.exports.useRef(null),h=l.exports.useRef(0),c=l.exports.useMemo(()=>O[o],[o]),_=d=>{if(!i||!a.current||!s.current)return;const g=Math.abs(d.target.getBoundingClientRect()[c.direction]-d[c.client]),y=a.current[c.offset]/2,b=(g-y)*100/s.current[c.offset];i[c.scroll]=b*i[c.scrollSize]/100},m=d=>{d.stopPropagation()},v=W(({down:d,first:g,last:y,initial:b,target:C,xy:P})=>{if(!(!i||!a.current||!s.current)){if(g){const w=b[1],z=C.getBoundingClientRect()[c.direction];h.current=w-z}if(y&&(h.current=0),d){const k=(P[1]-s.current.getBoundingClientRect()[c.direction]-h.current)*100/s.current[c.offset];i[c.scroll]=k*i[c.scrollSize]/100}}}),u=D({size:r,move:t,bar:c});return n("div",{ref:s,className:"v-scrollbar__bar",onClick:_,children:n("div",R({ref:a,className:"v-scrollbar__thumb",onClick:m,style:u},v()))})},I=typeof window=="undefined",X=function(e){for(let r of e){const t=r.target.__resizeListeners__||[];t.length&&t.forEach(o=>{o()})}},q=function(e,r){I||(e.__resizeListeners__||(e.__resizeListeners__=[],e.__ro__=new $(M(16,X)),e.__ro__.observe(e)),e.__resizeListeners__.push(r))},K=function(e,r){!e||!e.__resizeListeners__||(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(r),1),e.__resizeListeners__.length||e.__ro__.disconnect())};const G=e=>{const r=l.exports.useRef(null),t=l.exports.useRef(null),[o,i]=l.exports.useState(0),[s,a]=l.exports.useState(""),h=V();l.exports.useEffect(()=>{c()},[]),l.exports.useEffect(()=>(q(t.current,c),()=>{K(t.current,c)}),[]);const c=()=>{let v;const u=r.current;if(!u)return;v=u.clientHeight*100/u.scrollHeight;const d=v<100?v+"%":"";a(d)},_=v=>{const u=r.current;if(u){const d=u.scrollTop*100/u.clientHeight;i(d)}},m={marginRight:`-${h}px`,height:`calc(100% + ${h}px)`};return f("div",{className:"v-scrollbar",children:[n("div",{ref:r,className:"v-scrollbar__wrap",style:m,onScroll:_,children:n("div",{ref:t,className:"v-scrollbar__view",children:e.children})}),n(B.Provider,{value:r.current,children:n(F,{move:o,size:s,direction:"vertical"})})]})};function J(){const[e,r]=l.exports.useState([1,1,1,1]);return l.exports.useEffect(()=>{setTimeout(()=>{const t=new Array(100).fill(1);r(t)},5e3)},[]),f("div",{className:"App",children:[f("div",{style:{width:200,height:500,marginLeft:20},children:[n(H,{style:{overflow:"auto "},children:e.map((t,o)=>f("div",{className:"native-bar__item",children:[n("div",{children:t}),n("div",{children:"\u300B"})]},o))}),n("div",{className:"tip",children:"overflow: auto"})]}),f("div",{style:{width:200,height:500,marginLeft:20},children:[n(H,{style:{overflow:"overlay "},children:e.map((t,o)=>f("div",{className:"native-bar__item",children:[n("div",{children:t}),n("div",{children:"\u300B"})]},o))}),n("div",{className:"tip",children:"overflow: overlay"})]}),f("div",{style:{width:200,height:500,marginLeft:20},children:[n(G,{children:e.map((t,o)=>f("div",{className:"native-bar__item",children:[n("div",{children:t}),n("div",{children:"\u300B"})]},o))}),n("div",{className:"tip",children:"\u8D1Fmargin + \u865A\u62DF\u6EDA\u52A8\u6761"})]})]})}Y.render(n(x.StrictMode,{children:n(J,{})}),document.getElementById("root"));
